documentation projet ba2 : Themistest

Pour faire requète il faut que dans header de requète rajouter 'Content-Type'='application/json'.
Quand dit pour un paramètre de type get se rajoute comme ça : url.php?NomGet=ValeurGet Je veux dire pas nom get le nom donné plus loin
paramètre classique envoyer en raw json avec nom exact donné sinon plante.

api se décompse de la manière suivante:

tout requète commence par url/api/.... pour dire qu'on est dans l'api

en général, renvoie toujours "message":"succes" si a fonctionner et "message":"echec" si a raté
si a raté, existe 'error': avec l'erreur associé

requètes :

système connection :
    pour Connection :
        api/Connection/Connection.php
            prend en paramètre :
                "Identifiant" qui est juste Nom.Prenom de la personne
                "Mdp" qui est sont mot de passe
            erreur possible: aucune
   
    pour déconnection :
        api/Connection/Deconnection/php
            prend aucun param
        erreur possible:
            aucune    

utilisation Prof :
    pour Création :
        api/Enseignant/Creation.php
            prend en param:
                "Nom"
                "Prenom"
                "Email"
                "Mdp" //déjà chiffre sur serveur donc faut pas le rechiffrer
            erreur possible:
                pas perm pour quand pas admin
                pas connecter si pas connecter
                prof existe deja si prof existe deja
    
    pour Affichage:
        api/Enseignant/Affichage.php
            prend en paramètre Get avce NomGet=Id pour avoir info d'un Id particulier uniquement pour admin
            Si Id=All, renvoie tous les prof demande être admin
            si précise rien renvoie ces donné à lui (admin et normal)
        erreur possible:
            id introuvable pour quand prof existe pas
            pas perm si veut tout les prof et que pas admin
            pas connecter si pas connecte
        resultat :
        renvoie liste dans data
            data=>Index=>Nom,Prenom,Email //rem index juste à passé dans tous mais pour montrer que bien séparé
    
    pour Modification:
        api/Enseignant/Modification.php
            prend en paramètre Get avec NomGet=Id si admin veut changer info d'un autre Prof sinon pas de param get
            sinon pour modifier soi même pas beson de param Get
            param classique : les champ modifier à la personne note le champ non modifier ne sont pas a remplir
        erreur possible:
            param invalide si requète pas passe au serveur sql
            prof introuvable si prof existe pas
            pas connecter si pas connecter
            pas perm quand essaye modifier qqun autre alors que pas admin

    pour Suppression:
        api/Enseignant/Suppression.php
            prend en paramètre Get avec NomGet=Id l'id qu'on veut supprimer
        erreur possible:
            param invalide si erreur requète niveau sql
            pas perm
            pas connecter
            id pas defini si pas donné id


utilisation classe :
    pour création  :
        api/Groupe/Creation.php 
            prend en param
                "Nom"
            erreur possible
                param invalide
                pas perm
                pas connecter
            retour possible
                succes/échec
        
    pour Selectionner :
        api/Groupe/Affichage.php
            prend en param:
                "IdProf" prend soit Id particulier, soit All pour tous ou None pour aucun
                "IdClasse" prend soit Id particulier, soit All pour toutes
                "Eleve" prend true/false si veut élève ou pas
            erreur possible :
                param invalide
                pas perm besoin de perm quand regarde pour IdProf différent de soi ou classe pas accès
                pas connecter 
            resulta
                data=> classe particlier=>Enseignant=>Nom,Prenom,Email
                                        =>Enfan =>Nom,Prenom,Annee
    
    pour Modifier :
        api/Groupe/Modification.php
            prend en param
                "Nom"
                prend en param Get avec NomGet="Id" et valeur Id de la classe
            erreur possible :
                pas perm
                pas connecter
                param invalide
            résultat
                succes/echec
    
    pour supprimer/désalouer
        api/Groupe/Suppression.php
            prend en param
                "Desalouer" true ou false si on veut que désalouer ou supprimer classe
                si que Desalouer, peut donne "IdProf" ou "IdClasse" pour faire pour un prof ou classe

                si supprimer, faut donné "IdClasse" obligatoirement pour supprimer
            erreur:
                pas perm
                pas connecter
                param invalide
                classe existe pas
            resultat
                echec/réussite



