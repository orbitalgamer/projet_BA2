documentation projet ba2 : Themistest

Pour faire requète il faut que dans header de requète rajouter 'Content-Type'='application/json'.
Quand dit pour un paramètre de type get se rajoute comme ça : url.php?NomGet=ValeurGet Je veux dire pas nom get le nom donné plus loin
paramètre classique envoyer en raw json avec nom exact donné sinon plante.

api se décompse de la manière suivante:

tout requète commence par https://api.themistest.be/ pour dire qu'on est dans l'api

en général, renvoie toujours "message":"succes" si a fonctionner et "message":"echec" si a raté
si a raté, existe 'error': avec l'erreur associé

requètes :

système connection :
    pour Connection :
        api/Connection/Connection.php
            prend en paramètre :
                "Identifiant" qui est juste Nom.Prenom de la personne
                "Mdp" qui est sont mot de passe
            erreur possible: aucune
   
    pour déconnection :
        api/Connection/Deconnection/php
            prend aucun param
        erreur possible:
            aucune    

utilisation Prof :
    pour Création :
        api/Enseignant/Creation.php
            prend en param:
                "Nom"
                "Prenom"
                "Email"
                "Mdp" //déjà chiffre sur serveur donc faut pas le rechiffrer
            erreur possible:
                pas perm pour quand pas admin
                pas connecter si pas connecter
                prof existe deja si prof existe deja
    
    pour Affichage:
        api/Enseignant/Affichage.php
            prend en paramètre Get avce NomGet=Id pour avoir info d'un Id particulier uniquement pour admin
            Si Id=All, renvoie tous les prof demande être admin
            si précise rien renvoie ces donné à lui (admin et normal)
        erreur possible:
            id introuvable pour quand prof existe pas
            pas perm si veut tout les prof et que pas admin
            pas connecter si pas connecte
        resultat :
        renvoie liste dans data
            data=>Index=>Nom,Prenom,Email //rem index juste à passé dans tous mais pour montrer que bien séparé
    
    pour Modification:
        api/Enseignant/Modification.php
            prend en paramètre Get avec NomGet=Id si admin veut changer info d'un autre Prof sinon pas de param get
            sinon pour modifier soi même pas beson de param Get
            param classique : les champ modifier à la personne note le champ non modifier ne sont pas a remplir
        erreur possible:
            param invalide si requète pas passe au serveur sql
            prof introuvable si prof existe pas
            pas connecter si pas connecter
            pas perm quand essaye modifier qqun autre alors que pas admin

    pour Suppression:
        api/Enseignant/Suppression.php
            prend en paramètre Get avec NomGet=Id l'id qu'on veut supprimer
        erreur possible:
            param invalide si erreur requète niveau sql
            pas perm
            pas connecter
            id pas defini si pas donné id


utilisation classe :
    pour création  :
        api/Groupe/Creation.php 
            prend en parma
                "Allocaiton" bool qui permet de savoir si veux créer classe ou donné allocation
            si allocation flase : rajotuer param "Nom" pour le nom de la classe
            sinon, "IdProf" et "IdClasse" pour avoir allocation
            erreur possible
                class existe deja (pour ajout)
                classe existe pas (pour allocation)
                
                param invalide
                pas perm
                pas connecter
            retour possible
                succes/échec
        
    pour Selectionner :
        api/Groupe/Affichage.php
            prend en param:
                "IdProf" prend soit Id particulier, soit All pour tous ou None pour aucun (si veut pour lui même peut utiliser None)
                "IdClasse" prend soit Id particulier, soit All pour toutes
                "Eleve" prend true/false si veut élève ou pas
            erreur possible :
                param invalide
                pas perm besoin de perm quand regarde pour IdProf différent de soi ou classe pas accès
                pas acces classe quand prof essaye avoir info classe que pas accès
                pas connecter 
            resulta
                data=> Id,Nom de la classe=>Enseignant=>Nom,Prenom,Email
                                          =>Enfant =>Nom,Prenom,Annee
    
    pour Modifier :
        api/Groupe/Modification.php
            prend en param
                "Nom"
                prend en param Get avec NomGet="Id" et valeur Id de la classe
            erreur possible :
                pas perm
                pas connecter
                param invalide
            résultat
                succes/echec
    
    pour supprimer/désalouer
        api/Groupe/Suppression.php
            prend en param
                "Desalouer" true ou false si on veut que désalouer ou supprimer classe
                si que Desalouer, peut donne "IdProf" ou "IdClasse" pour faire pour un prof ou classe

                si supprimer, faut donné "IdClasse" obligatoirement pour supprimer
            erreur:
                pas perm
                pas connecter
                param invalide
                classe existe pas
            resultat
                echec/réussite

utilisation enfant:
    pour Créer :
        api/Enfant/Creation.php
            prend en param:
                "Nom"
                "Prenom"
                "Annee"
                "IdClasse"
            erreur possible
                pas connecter
                pas perm
                enfant existe deja
                classe existe pas
                param invalide
            résutlat :
                succes/echec
    
    pour Afficher :
        api/Enfant/Affichage.php
            param possible :
                param get avec NomGet="Id" puis Id élève ou All pour tout les élèves
            param recheche :
                "IdClass" pour demander élève qui sont dans cette classe //peut valoir All pour toutes les classe je sais un peu redondant à groupe mais le permet s'il le faut
                "IdProf" pour deamdner pour un prof 
                remarque peut combiner les deux ou que 1 seul à la fois. par défaut recheche pour les classe du compte même si admin faut alors précisé le prof
                et quand recheche prof, faut admin ou être ce prof pour avoir la/les classe
            erreur possible
                pas connecter
                pas perm
                eleve existe pas
            resultat
                data=> IdClasse,NomClasse=>Entant=>Nom,Prenom,Annee

    pour modifier:
        api/Enfant/Modification.php
            prend en paramètre Get avec NomGet=Id 
            param classique : champ comme création et faut que mettre ceux modifier donc potentiellement :
            "Nom"
            "Prenom"
            "Annee"
            "IdClasse"
        erreur possible
            pas connecter
            pas perm
            classe existe pas
            eleve existe pas
        resultat:
        succes/erreur

    pour supprimer:
        api/Enfant/Suppression.php
            prend en paramètre Get avec NomGet=Id suivi = IdEleve
        erreur possible
            pas connecter
            pas perm
            param invalide
        résultat:
            succes/echec